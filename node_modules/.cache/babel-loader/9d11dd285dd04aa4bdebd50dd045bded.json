{"remainingRequest":"/Users/thomassohet/code/Sohett/perso/The Game/the-game-creator/node_modules/babel-loader/lib/index.js!/Users/thomassohet/code/Sohett/perso/The Game/the-game-creator/src/store/store.js","dependencies":[{"path":"/Users/thomassohet/code/Sohett/perso/The Game/the-game-creator/src/store/store.js","mtime":1568566836483},{"path":"/Users/thomassohet/code/Sohett/perso/The Game/the-game-creator/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/thomassohet/code/Sohett/perso/The Game/the-game-creator/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/thomassohet/code/Sohett/perso/The Game/the-game-creator/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/thomassohet/code/Sohett/perso/The Game/the-game-creator/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport * as c from './constants';\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport { user, app } from './services';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    user: null\n  },\n  getters: {\n    getOrganization: function getOrganization(state) {\n      return state.currentUserOrganization;\n    }\n  },\n  mutations: _defineProperty({}, c.SET_USER, function (state, payload) {\n    state.user = payload;\n  }),\n  actions: {\n    initializeApp: function () {\n      var _initializeApp = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(_ref) {\n        var commit, dispatch;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref.commit, dispatch = _ref.dispatch;\n                _context.next = 3;\n                return dispatch('fetchUser');\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initializeApp(_x) {\n        return _initializeApp.apply(this, arguments);\n      }\n\n      return initializeApp;\n    }(),\n    fetchUser: function () {\n      var _fetchUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(_ref2) {\n        var state, commit, _ref3, success, data;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                state = _ref2.state, commit = _ref2.commit;\n                _context2.next = 3;\n                return user.show();\n\n              case 3:\n                _ref3 = _context2.sent;\n                success = _ref3.success;\n                data = _ref3.data;\n                console.log(data);\n\n                if (success) {\n                  commit(c.SET_USER, data);\n                }\n\n                return _context2.abrupt(\"return\", data);\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function fetchUser(_x2) {\n        return _fetchUser.apply(this, arguments);\n      }\n\n      return fetchUser;\n    }()\n  }\n});",{"version":3,"sources":["/Users/thomassohet/code/Sohett/perso/The Game/the-game-creator/src/store/store.js"],"names":["c","Vue","Vuex","user","app","use","Store","state","getters","getOrganization","currentUserOrganization","mutations","SET_USER","payload","actions","initializeApp","commit","dispatch","fetchUser","show","success","data","console","log"],"mappings":";;;AAAA,OAAO,KAAKA,CAAZ,MAAmB,aAAnB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,IAAT,EAAeC,GAAf,QAA0B,YAA1B;AACAH,GAAG,CAACI,GAAJ,CAAQH,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACI,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACLJ,IAAAA,IAAI,EAAE;AADD,GADqB;AAI5BK,EAAAA,OAAO,EAAE;AACPC,IAAAA,eADO,2BACUF,KADV,EACiB;AACtB,aAAOA,KAAK,CAACG,uBAAb;AACD;AAHM,GAJmB;AAS5BC,EAAAA,SAAS,sBACNX,CAAC,CAACY,QADI,YACOL,KADP,EACcM,OADd,EACuB;AAC5BN,IAAAA,KAAK,CAACJ,IAAN,GAAaU,OAAb;AACD,GAHM,CATmB;AAc5BC,EAAAA,OAAO,EAAE;AACDC,IAAAA,aADC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACcC,gBAAAA,MADd,QACcA,MADd,EACsBC,QADtB,QACsBA,QADtB;AAAA;AAAA,uBAECA,QAAQ,CAAC,WAAD,CAFT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAIDC,IAAAA,SAJC;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAIYX,gBAAAA,KAJZ,SAIYA,KAJZ,EAImBS,MAJnB,SAImBA,MAJnB;AAAA;AAAA,uBAK2Bb,IAAI,CAACgB,IAAL,EAL3B;;AAAA;AAAA;AAKGC,gBAAAA,OALH,SAKGA,OALH;AAKYC,gBAAAA,IALZ,SAKYA,IALZ;AAMLC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;;AACA,oBAAID,OAAJ,EAAa;AACXJ,kBAAAA,MAAM,CAAChB,CAAC,CAACY,QAAH,EAAaS,IAAb,CAAN;AACD;;AATI,kDAUEA,IAVF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAdmB,CAAf,CAAf","sourcesContent":["import * as c from './constants'\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport { user, app } from './services'\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    user: null\n  },\n  getters: {\n    getOrganization (state) {\n      return state.currentUserOrganization;\n    }\n  },\n  mutations: {\n    [c.SET_USER] (state, payload) {\n      state.user = payload\n    }\n  },\n  actions: {\n    async initializeApp({commit, dispatch}) {\n      await dispatch('fetchUser');\n    },\n    async fetchUser ({ state, commit }) {\n      const { success, data } = await user.show()\n      console.log(data)\n      if (success) {\n        commit(c.SET_USER, data)\n      }\n      return data\n    }\n  }\n})\n"]}]}