(function(e){function t(t){for(var r,i,s=t[0],l=t[1],c=t[2],p=0,m=[];p<s.length;p++)i=s[p],a[i]&&m.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"05d6":function(e,t,n){e.exports=n.p+"img/iphone-frame.1f63873d.png"},"072b":function(e,t,n){},"0e5b":function(e,t,n){},1294:function(e,t,n){},2459:function(e,t,n){},4045:function(e,t,n){e.exports=n.p+"img/loading.c2b11286.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.displayLoginPage?n("div",[n("el-container",{staticClass:"full-height"},[n("Login")],1)],1):n("div",[n("Navbar",{staticClass:"navbar"}),n("el-main",{staticStyle:{"padding-top":"20px","padding-right":"50px","padding-left":"50px"}},[n("router-view")],1),n("AppFooter")],1)])},o=[],i=(n("7f7f"),n("a481"),n("3b2b"),n("04e1")),s=n.n(i),l=n("8c4f"),c=n("b0af"),u="id_token",p="access_token",m="b0fiFhKIX5hNSKFjaUB2owcv94lKnHT3",f="the-game.eu.auth0.com";function d(){return"https://app.the-game.website/callback"}var v=new c["a"].WebAuth({clientID:m,domain:f});function h(){v.authorize({responseType:"token id_token",redirectUri:d()})}var g=new l["a"]({mode:"history"});function b(){w(),x(),g.go("/")}function _(e,t,n){O()?n():n({path:"/login"})}function y(){return localStorage.getItem(u)}function w(){localStorage.removeItem(u)}function x(){localStorage.removeItem(p)}function F(e){var t=RegExp("[#&]"+e+"=([^&]*)").exec(window.location.hash);return t&&decodeURIComponent(t[1].replace(/\+/g," "))}function k(){var e=F("access_token");localStorage.setItem(p,e)}function C(){var e=F("id_token");localStorage.setItem(u,e)}function O(){var e=y();return"null"!==e&&null!==e&&!S(e)}function j(e){var t=s()(e);if(!t.exp)return null;var n=new Date(0);return n.setUTCSeconds(t.exp),n}function S(e){var t=j(e);return t<new Date}function T(){var e=y();return s()(e).email}var $=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Create your application: how does it works")]),n("br"),n("p",[e._v("First answer a few questions about the app you want to create (time of game, number of rooms, ...)")]),n("p",[e._v("Then define each and every single step of the game")]),n("p",[e._v("Submit your information and receive a confirmation email")]),n("p",[e._v("Wait 48 hours for the server to be created and then you'll receive the url your app will be available from")]),n("p",[e._v("As soon as your app is available on the internet, you can easily change the information of your game in real time")]),n("p",[e._v("Test the app, play with it, modify it until your happy with the result")]),n("p",[e._v("Share the URL of the app to all the participants of the game")]),n("el-button",[n("a",{attrs:{href:"/create"}},[e._v("Start creating my app")])])],1)},L=[],E=n("cebc"),A=n("2f62"),P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form",{ref:"appForm",staticClass:"form",attrs:{model:e.appForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"Email"}},[r("el-input",{attrs:{disabled:!0},model:{value:e.appForm.email,callback:function(t){e.$set(e.appForm,"email",t)},expression:"appForm.email"}})],1),r("el-form-item",{attrs:{label:"Name",prop:"name"}},[r("el-input",{attrs:{placeholder:"Name of the app"},model:{value:e.appForm.name,callback:function(t){e.$set(e.appForm,"name",t)},expression:"appForm.name"}})],1),r("el-form-item",{attrs:{label:"URL",prop:"url"}},[r("el-input",{attrs:{placeholder:e.appForm.name.toLowerCase()},model:{value:e.appForm.url,callback:function(t){e.$set(e.appForm,"url",t)},expression:"appForm.url"}},[r("template",{slot:"prepend"},[e._v("https://")]),r("template",{slot:"append"},[e._v(".the-game.website.com")])],2)],1),r("el-form-item",{attrs:{label:"Number of steps",prop:"steps"}},[r("span",{staticClass:"demonstration"},[e._v("ğŸ‘£")]),r("el-slider",{attrs:{step:1,max:e.appForm.maxStep},model:{value:e.appForm.steps,callback:function(t){e.$set(e.appForm,"steps",t)},expression:"appForm.steps"}})],1),r("el-form-item",{attrs:{label:"How long should the game last",prop:"time"}},[r("span",{staticClass:"demonstration"},[e._v("â±ï¸")]),r("el-slider",{attrs:{step:1,"format-tooltip":e.formatTooltip,max:e.appForm.maxTime},model:{value:e.appForm.time,callback:function(t){e.$set(e.appForm,"time",t)},expression:"appForm.time"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("appForm")}}},[e._v("Go to the first step")])],1)],1)],1),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"container"},[r("img",{staticClass:"frame",attrs:{src:n("05d6")}}),r("div",{staticClass:"game-preview"},[r("div",{staticClass:"navbar-preview"},[r("p",[e._v("Il te reste "+e._s(e.appForm.time)+" heure(s), 0 min, 0 sec")]),e.appForm.steps?r("el-steps",{staticClass:"steps",attrs:{"align-center":"",size:"mini"}},e._l(e.appForm.steps,function(e){return r("el-step",{attrs:{size:"small"}})}),1):e._e()],1),r("div",{staticClass:"instruction-preview"},[r("br"),r("p",[r("b",[e._v('Bienvenue au "'+e._s(e.appForm.name)+'" digital Escape Game')])]),r("span",{domProps:{innerHTML:e._s(e.appForm.introduction)}}),r("br"),r("el-button",{staticClass:"button-preview",attrs:{type:"primary",size:"mini",disabled:""}},[e._v("Aller aux instructions")])],1)])])])],1)},R=[],z={data:function(){return{appForm:{email:T(),name:"",url:"",steps:null,time:null,maxStep:10,maxTime:5,introduction:"<p>ğŸ² ğŸ˜® â“ğŸ¤” ğŸ˜‚</p><p>ConcrÃªtement tu as un temps prÃ©dÃ©finis ci-dessus pour rÃ©soudre les Ã©nigmesğŸ¤!</p><p>Bonne chance</p>"},rules:{name:[{required:!0,message:"Please input App name",trigger:"change"}],url:[{required:!0,message:"Please input an URL",trigger:"change"}],steps:[{required:!0,message:"Please choose a number of steps",trigger:"change"}],time:[{required:!0,message:"Please choose a countdown",trigger:"change"}]}}},methods:{formatTooltip:function(e){return"".concat(e," hour(s)")},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"Failed to create the app ".concat(t.appForm.name,"."),type:"error"}),console.log("error submit!!"),!1;t.$message({message:"Congrats, the app ".concat(t.appForm.name," was successfuly created."),type:"success"})})}}},U=z,I=(n("90b0"),n("2877")),q=Object(I["a"])(U,P,R,!1,null,"7d88ce1a",null);q.options.__file="General.vue";var N=q.exports,G={methods:Object(E["a"])({},Object(A["b"])(["initializeApp"])),mounted:function(){this.initializeApp()}},H=G,M=Object(I["a"])(H,$,L,!1,null,null,null);M.options.__file="Home.vue";var B=M.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-footer",[e._v("Â© Thomas Sohet 2019 - Tous droits rÃ©servÃ©s.")])},K=[],J={name:"AppFooter"},W=J,X=(n("7d7f"),Object(I["a"])(W,D,K,!1,null,null,null));X.options.__file="AppFooter.vue";var Q=X.exports,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"splash"},[n("el-container",{attrs:{direction:"vertical"}},[n("el-row",{attrs:{gutter:20}},[n("el-col",{staticStyle:{height:"100vh",position:"relative"},attrs:{span:10,offset:14}},[n("div",{staticClass:"login"},[n("h1",[e._v("Create a digital escape game app in a few minutes")]),n("p",[e._v("The only limit is your creativity")]),n("p",[e._v("Transform any places into a game.")]),n("br"),n("el-button",{attrs:{type:"primary",icon:"el-icon-success"},on:{click:e.handleLog}},[e._v("Login")])],1)])],1)],1)],1)},Y=[],Z={name:"Login",methods:{handleLog:function(){h()}}},ee=Z,te=(n("99f5"),Object(I["a"])(ee,V,Y,!1,null,"56460f4d",null));te.options.__file="Login.vue";var ne=te.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-menu",{attrs:{mode:"horizontal","background-color":"#f5f7fa"}},[n("el-menu-item",{attrs:{index:"1"}},[n("a",{attrs:{href:"/"}},[e._v("Home")])]),n("el-menu-item",{attrs:{index:"2"}},[n("a",{attrs:{href:"/create"}},[e._v("Create")])]),n("el-menu-item",{attrs:{index:"3"}},[n("a",{on:{click:e.handleLog}},[e._v("Logout"),n("i",{staticClass:"el-icon-circle-close"})])])],1)},ae=[],oe={methods:{handleLog:function(){b()}}},ie=oe,se=Object(I["a"])(ie,re,ae,!1,null,null,null);se.options.__file="Navbar.vue";var le=se.exports,ce={name:"App",data:function(){return{input:""}},components:{Home:B,AppFooter:Q,Login:ne,Navbar:le},computed:{displayLoginPage:function(){return console.log(O()),"Callback"!==this.$route.name&&!O()}}},ue=ce,pe=(n("034f"),Object(I["a"])(ue,a,o,!1,null,null,null));pe.options.__file="App.vue";var me=pe.exports,fe=(n("2ead"),function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)}),de=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"spinner"},[r("h1",[e._v("Test")]),r("img",{attrs:{src:n("4045"),alt:"loading"}})])}],ve={mounted:function(){this.$nextTick(function(){k(),C(),window.location.href="/"})}},he=ve,ge=(n("f67c"),Object(I["a"])(he,fe,de,!1,null,null,null));ge.options.__file="Callback.vue";var be=ge.exports,_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("GeneralForm")],1)},ye=[],we={components:{GeneralForm:N}},xe=we,Fe=(n("a272"),Object(I["a"])(xe,_e,ye,!1,null,"4c3b4b5e",null));Fe.options.__file="Create.vue";var ke=Fe.exports;r["default"].use(l["a"]);var Ce=new l["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",beforeEnter:_,component:B},{path:"/create",name:"create",beforeEnter:_,component:ke},{path:"/login",name:"login",component:ne},{path:"*",redirect:"/"},{path:"/callback",name:"Callback",component:be}]}),Oe=(n("96cf"),n("3b8d")),je=n("bd86"),Se="SET_USER",Te=n("d225"),$e=n("b0b4"),Le=(n("6d67"),n("a745"),n("795b")),Ee=n.n(Le),Ae=n("bc3a"),Pe=n.n(Ae),Re=(n("d058"),"https://api.the-game.website");Pe.a.interceptors.request.use(function(e){console.log(e)},function(e){return Ee.a.reject(e)}),Pe.a.interceptors.response.use(function(e){},function(e){var t=e.response.data.message;return{success:!1,message:t||"ğŸ¤­ Oops...petit problÃ¨me technique. Contactez les techies."}});var ze=function(){function e(){Object(Te["a"])(this,e)}return Object($e["a"])(e,null,[{key:"headers",value:function(){return{Authorization:"Bearer ".concat(y()),"Content-type":"application/json"}}},{key:"get",value:function(){var e=Object(Oe["a"])(regeneratorRuntime.mark(function e(t){var n,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},r={baseURL:Re,url:t,method:"GET",params:n,headers:this.headers()},e.abrupt("return",Pe()(r));case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),Ue=ze,Ie={show:function(){return Ue.get("/user")}};r["default"].use(A["a"]);var qe=new A["a"].Store({state:{user:null},getters:{getOrganization:function(e){return e.currentUserOrganization}},mutations:Object(je["a"])({},Se,function(e,t){e.user=t}),actions:{initializeApp:function(){var e=Object(Oe["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,n=t.dispatch,e.next=3,n("fetchUser");case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),fetchUser:function(){var e=Object(Oe["a"])(regeneratorRuntime.mark(function e(t){var n,r,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.state,n=t.commit,e.next=3,Ie.show();case 3:return r=e.sent,a=r.success,o=r.data,console.log(o),a&&n(Se,o),e.abrupt("return",o);case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}}),Ne=n("5c96"),Ge=n.n(Ne),He=(n("1294"),n("8f86")),Me=n.n(He);r["default"].use(Ge.a,{locale:Me.a}),new r["default"]({router:Ce,store:qe,render:function(e){return e(me)}}).$mount("#app")},"64a9":function(e,t,n){},"7d7f":function(e,t,n){"use strict";var r=n("0e5b"),a=n.n(r);a.a},"90b0":function(e,t,n){"use strict";var r=n("beee"),a=n.n(r);a.a},"937d":function(e,t,n){},"99f5":function(e,t,n){"use strict";var r=n("2459"),a=n.n(r);a.a},a272:function(e,t,n){"use strict";var r=n("072b"),a=n.n(r);a.a},beee:function(e,t,n){},f67c:function(e,t,n){"use strict";var r=n("937d"),a=n.n(r);a.a}});
//# sourceMappingURL=app.8c79acbe.js.map